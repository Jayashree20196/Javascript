<html>
<title>
    JS Assignment 49
</title>
<script>
    /*
        Question:  let company = {
            sales: [{
            name: 'John',
            salary: 1000
            }, {
            name: 'Alice',
            salary: 600
            }],

            development: {
            sites: [{
            name: 'Peter',
            salary: 2000
            }, {
            name: 'Alex',
            salary: 1800
            }],

            internals: [{
            name: 'Jack',
            salary: 1300
            }]
            }
        };

        Write code to calculate the sum of the salaries from the above object. The approach should be generic in nature.
        Any other object provided as an input should be processed and an appropriate result should be returned.
    */


    function sumSalaries(department) {
        //Checks whether is array or object. If its a array directly adds the sum and returns
        if (Array.isArray(department)) {
            return department.reduce((prev, current) => prev + current.salary, 0); // sum the array
        } else {
            //if it is object
            let sum = 0;
            //gets into each object and call the current function
            for (let subdep of Object.values(department)) {
                sum += sumSalaries(subdep); // recursively call for subdepartments, sum the results
            }
            return sum;
        }
    }



    let company = {
        sales: [{
            name: 'John',
            salary: 1000
        }, {
            name: 'Alice',
            salary: 600
        }],

        development: {
            sites: [{
                name: 'Peter',
                salary: 2000
            }, {
                name: 'Alex',
                salary: 1800
            }],

            internals: [{
                name: 'Jack',
                salary: 1300
            }]
        }
    };

    alert(sumSalaries(company));


</script>

</html>